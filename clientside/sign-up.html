<head>
     <!-- mobile responsive meta -->
     <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
     <meta name="description" content="This is meta description">
     <meta name="author" content="Themefisher">
  
     <!-- plugins -->
     <link rel="preload" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFWJ0bbck.woff2" style="font-display: optional;">
     <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
     <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:600%7cOpen&#43;Sans&amp;display=swap" media="screen">
  
     <link rel="stylesheet" href="plugins/themify-icons/themify-icons.css">
     <link rel="stylesheet" href="plugins/slick/slick.css">
  
     <!-- Main Stylesheet -->
     <link rel="stylesheet" href="css/style.css">
  
     <!--Favicon-->
     <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
     <link rel="icon" href="images/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/components/registrations/registration-9/assets/css/registration-9.css">
</head>
<!-- navigation --><!-- navigation -->
<header class="sticky-top bg-white border-bottom border-default">
  <div class="container">

     <nav class="navbar navbar-expand-lg navbar-white">

        <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
           <i class="ti-menu"></i>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
           <ul class="navbar-nav ml-auto">

                 <a class="nav-link" href="index.html" role="button"  
                    aria-expanded="false">
                    New Posts  
                 </a>

              <li class="nav-item">
                 <a class="nav-link" href="about.html">About</a>
              </li>
              <li class="nav-item">
                 <a class="nav-link" href="contact.html">Contact</a>
              </li>
              <li class="nav-item dropdown">
                 <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false"> Logout <i class="ti-angle-down ml-1"></i>
                 </a>
                 <div class="dropdown-menu">
                    <a class="dropdown-item" href="sign-in.html">Switch into another Account</a>
                    <a class="dropdown-item" href="sign-up.html">Logout</a>
                    <a class="dropdown-item" href="privacy-policy.html">Privacy Policy</a>
                    <a class="dropdown-item" href="terms-conditions.html">Terms Conditions</a>
                 </div>
              </li>
           </ul>
           
           <select class="m-2 border-0" id="select-language">
              <option id="en" value="about/" selected>En</option>
           </select>

           <!-- search -->
           <div class="search px-4">
              <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
              <div class="search-wrapper">
                 <form action="javascript:void(0)" class="h-100">
                    <input class="search-box pl-4" id="search-query" name="s" type="search" placeholder="Type &amp; Hit Enter...">
                 </form>
                 <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
              </div>
           </div>

        </div>
     </nav>
  </div>
</header>
<body>
    <!-- Registration 9 - Bootstrap Brain Component -->
<section class=" py-3 py-md-5 py-xl-8">
    <div class="container">
      <div class="row gy-4 align-items-center">
        <div class="col-12 col-md-6 col-xl-7">
          <div>
            <div class="col-12 col-xl-9">
               <img src="images/logo.png" alt="Logo" style="width:350px; height: auto; margin-bottom: 3rem;">
              <h2 class="h1 mb-4">We make digital products that drive you to stand out.</h2>
              <p class="lead mb-5">We write words, take photos, make videos, and interact with artificial intelligence.</p>
              <div class="text-endx">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-grip-horizontal" viewBox="0 0 16 16">
                  <path d="M2 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                </svg>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6 col-xl-5">
          <div class="card border-0 rounded-4">
            <div class="card-body p-3 p-md-4 p-xl-5">
              <div class="row">
                <div class="col-12">
                  <div class="mb-4">
                    <h2 class="h3">Registration</h2>
                    <h3 class="fs-6 fw-normal text-secondary m-0">Enter your details to register</h3>
                  </div>
                  <form id="registrationForm">
                    <div class="row gy-3 overflow-hidden">
                      <div class="col-12">
                        <div class="form-floating mb-3">
                          <input type="text" class="form-control" id="username" placeholder="Username" required>
                          <label for="username" class="form-label">User Name</label>
                        </div>
                      </div>
                      <div class="col-12">
                        <div class="form-floating mb-3">
                          <input type="email" class="form-control" id="email" placeholder="name@example.com" required>
                          <label for="email" class="form-label">Email</label>
                        </div>
                      </div>
                      <div class="col-12">
                        <div class="form-floating mb-3">
                          <input type="password" class="form-control" id="password" placeholder="Password" required>
                          <label for="password" class="form-label">Password</label>
                        </div>
                      </div>
                      <div class="col-12">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="iAgree" required>
                          <label class="form-check-label text-secondary" for="iAgree">
                            I agree to the <a href="#!" class="link-primary text-decoration-none">terms and conditions</a>
                          </label>
                        </div>
                      </div>

                      </div>
                    </div>
                  </form>
                  
                  </div>
                  <div class="col-12">
                    <div class="d-grid">
                      <button class="btn btn-primary btn-lg" style="background-color: black;" type="submit" onclick="registerUser()">Sign up</button>
                    </div>
                  </div>
                </div>
              </form>
              <div class="row">
                <div class="col-12">
                  <div class="d-flex gap-2 gap-md-4 flex-column flex-md-row justify-content-md-end mt-4">
                    <p class="m-0 text-secondary text-center">Already have an account? <a href="sign-in.html" class="link-primary text-decoration-none">Sign in</a></p>
                  </div>
                </div>
              </div>
              <div class="row">
               
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    async function registerUser() {
      // Get form values
      const username = document.getElementById("username").value;
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      const iAgree = document.getElementById("iAgree").checked;
  
      if (!iAgree) {
        alert("You must agree to the terms and conditions.");
        return;
      }
  
      // Prepare the payload
      const payload = {
        username,
        email,
        password,
        role: "user",
      };
  
      try {
        // Send the API request
        const response = await fetch("https://localhost:7069/api/Users", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(payload),
        });
  
        if (!response.ok) {
          throw new Error("Failed to register.");
        }
  
        const data = await response.json();
        console.log("Registration successful:", data);
        alert("Registration successful! Redirecting to the login page.");
        window.location.href = "sign-in.html"; // Redirect to the login page or another page
      } catch (error) {
        console.error("Error:", error);
        alert("An error occurred during registration.");
      }
    }
  </script>
  
</body>